# -----------------------------------------------------------------------------
# REQUIRED: Database Configuration
# -----------------------------------------------------------------------------
# Neo4j Database - REQUIRED for all services
NEO4J_URI=bolt://neo4j:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=your_secure_password_here
NEO4J_DATABASE=neo4j

# Neo4j Connection Pooling
NEO4J_MAX_CONNECTION_LIFETIME=3600
NEO4J_MAX_CONNECTION_POOL_SIZE=50
NEO4J_CONNECTION_TIMEOUT=30

# Qdrant Vector Database
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_COLLECTION=cv_key_points
VECTOR_SIZE=384
QDRANT_TIMEOUT=30
QDRANT_PREFER_GRPC=true

# Redis Configuration - REQUIRED for cv-intake-service
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# REQUIRED: LLM Configuration
# -----------------------------------------------------------------------------
# LLM Provider - REQUIRED for cv-processing-service
LLM_PROVIDER=openai
LLM_MODEL=gpt-4o-mini
LLM_API_KEY=your_openai_api_key_here
LLM_BASE_URL=

# -----------------------------------------------------------------------------
# REQUIRED: Service URLs
# -----------------------------------------------------------------------------
# Service Communication - REQUIRED for cv-intake-service
PROCESSING_SERVICE_URL=http://cv-processing-service:8001
STORAGE_SERVICE_URL=http://cv-storage-service:8002

# -----------------------------------------------------------------------------
# Optional: Service Configuration
# -----------------------------------------------------------------------------
# Service Info
DEBUG=false
LOG_LEVEL=INFO

# Processing Configuration
PARALLEL_PROCESSING=false
EMBEDDING_MODEL=all-MiniLM-L6-v2
TEMPERATURE=0.0
REQUEST_TIMEOUT=180
MAX_RETRIES=3

# Search Configuration
DEFAULT_VECTOR_WEIGHT=0.7
DEFAULT_GRAPH_WEIGHT=0.3
CACHE_ENABLED=true
CACHE_TTL=3600

# File Storage Configuration
UPLOAD_DIR=/app/uploads
TEMP_DIR=/tmp/cv_uploads
DURABLE_STORAGE=none

# File Validation Configuration
MAX_FILE_SIZE=10485760
MIN_FILE_SIZE=1024

# Job Configuration
REDIS_JOB_PREFIX=cv:job:
JOB_RETENTION_DAYS=30

# -----------------------------------------------------------------------------
# REQUIRED: Security Configuration
# -----------------------------------------------------------------------------
# Authentication - REQUIRED for all public services
API_KEY=your_secure_api_key_here_min_16_chars
JWT_SECRET=your_jwt_secret_key_here_minimum_32_characters_long
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Rate Limiting
RATE_LIMIT_UPLOAD=5/minute
RATE_LIMIT_STATUS=30/minute
RATE_LIMIT_RESULTS=20/minute
RATE_LIMIT_SEARCH=20/minute
RATE_LIMIT_SUGGEST=30/minute

# -----------------------------------------------------------------------------
# Scalability Configuration
# -----------------------------------------------------------------------------
# Async Processing
ENABLE_ASYNC_PROCESSING=true
ASYNC_PROCESSING_TIMEOUT=300
REDIS_JOB_QUEUE=cv_processing_queue
REDIS_CLEANUP_QUEUE=cv_cleanup_queue
REDIS_JOB_TIMEOUT=1800
REDIS_WORKER_TIMEOUT=30
REDIS_MAX_RETRIES=3

# Service Scaling
INTAKE_SERVICE_REPLICAS=2
SEARCH_SERVICE_REPLICAS=2
PROCESSING_SERVICE_REPLICAS=1
STORAGE_SERVICE_REPLICAS=1
WORKER_REPLICAS=3

# -----------------------------------------------------------------------------
# Monitoring and Observability Configuration
# -----------------------------------------------------------------------------
# OpenTelemetry Tracing
JAEGER_HOST=jaeger
JAEGER_PORT=6831
TRACING_ENABLED=true
OTEL_SERVICE_NAME=
OTEL_EXPORTER_JAEGER_ENDPOINT=http://jaeger:14268/api/traces

# Prometheus Metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
METRICS_ENABLED=true

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
DETAILED_HEALTH_CHECKS=true

# Performance Monitoring
PERFORMANCE_MONITORING_ENABLED=true
SLOW_REQUEST_THRESHOLD=1.0
MEMORY_MONITORING_ENABLED=true
CPU_MONITORING_ENABLED=true

# -----------------------------------------------------------------------------
# Optional: S3 Configuration (only if DURABLE_STORAGE=s3)
# -----------------------------------------------------------------------------
S3_BUCKET_NAME=
S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
S3_ENDPOINT_URL=